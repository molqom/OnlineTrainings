//create table users
CREATE TABLE `users` (
`id` int unsigned not null auto_increment,
`login` varchar(255) DEFAULT NULL,
`password` varchar(255) DEFAULT NULL,
`name` varchar(255) DEFAULT NULL,
`surname` varchar(255) DEFAULT NULL,
`image_url` varchar(255) DEFAULT NULL,
`role_id` int unsigned default 2,
 PRIMARY KEY (`id`),
 UNIQUE KEY `login` (`login`),
 foreign key (role_id) references roles(id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

//add admin
INSERT INTO `users` (`login`, `password`, `role_id`) VALUES ('admin', SHA1('admin'), 1);

//create table roles
create table roles (
id int unsigned not null auto_increment,
name varchar(40) default null,
primary key (id),
unique key role_name (name)
) engine=InnoDB default charset=utf8;

//add roles
insert into roles (name) values('admin');
insert into roles (name) values('user');
insert into roles (name) values('teacher');


//add teachers
insert users (name, password, role_id) values ('teacher1', sha1('teacher1'), 3);
insert users (name, password, role_id) values ('teacher2', sha1('teacher2'), 3);
insert users (name, password, role_id) values ('teacher3', sha1('teacher3'), 3);

//create table courses
CREATE TABLE `courses` (
`id` int unsigned not null auto_increment,
`name` varchar(255) DEFAULT NULL,
`teacher_id` int unsigned DEFAULT NULL,
PRIMARY KEY (`id`),
UNIQUE KEY `name` (`name`),
foreign key (teacher_id) references users(id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

//add courses
insert courses (name, teacher_id) values ('Express java', 3);
insert courses (name, teacher_id) values ('Lite java', 4);
insert courses (name, teacher_id) values ('Professional java', 3);
insert courses (name, teacher_id) values ('Java EE', 5);
insert courses (name, teacher_id) values ('Java core', 5);
insert courses (name, teacher_id) values ('Java for beginners', 3);
insert courses (name, teacher_id) values ('HTML/CSS', 4);
insert courses (name, teacher_id) values ('SQL', 4);
insert courses (name, teacher_id) values ('XML', 4);
insert courses (name, teacher_id) values ('English for developers', 5);
insert courses (name, teacher_id) values ('Full courser java', 3);

//create table subscriptions
create table subscriptions (
                               `id` int unsigned not null auto_increment,
                               `user_id` int unsigned default null,
                               `course_id` int unsigned default null,
                               `grade` int default null,
                               `feedback` text DEFAULT NULL,
                               PRIMARY KEY (`id`),
                               foreign key (user_id) references users(id),
                               foreign key (course_id) references courses(id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

insert into subscriptions (user_id, course_id, grade, feedback)
values (2, 7, 5, 'All right!');